services:

  - type: web

    name: binalvision-server

    env: node

    rootDir: server

    buildCommand: npm install

    startCommand: npx tsx index.ts

    envVars:

      - key: NODE_ENV

        value: production
 
  - type: web

    name: binalvision-client

    env: node

    rootDir: client

    buildCommand: npm install && npm run build

    startCommand: npm run preview

    staticPublishPath: dist

    envVars:

      - key: NODE_ENV

        value: production
 
